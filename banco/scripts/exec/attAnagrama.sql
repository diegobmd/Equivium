DROP TABLE ANAGRAMAS            IF EXISTS;
DROP TABLE ANAGRAMA_ESTIMULOS   IF EXISTS;
DROP TABLE ANAGRAMA_ESTI_EXTRA  IF EXISTS;

CREATE TABLE ANAGRAMAS(
	ANA_CODIGO            BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	ANA_SIGLA             CHAR(4) NOT NULL,
	ANA_NOME              VARCHAR(50) NOT NULL,
	ANA_REFORCO_ACERTO    BIGINT NULL,
	ANA_MINIMO_TENTATIVAS INT NOT NULL,
	ANA_PORCENTAGEM       FLOAT NOT NULL,
	ANA_INTERVALO_MOD_ESC FLOAT NOT NULL,
	ANA_EXTRA_VEZ     	  INT NOT NULL	
)

CREATE TABLE ANAGRAMA_ESTIMULOS(
	ANA_EST_CODIGO    BIGINT NOT NULL,
	ANA_EST_ESTIMULO  BIGINT NOT NULL,
	ANA_EST_TIPO      CHAR(1) NOT NULL
)

CREATE TABLE ANAGRAMA_ESTI_EXTRA(
	ANA_EST_EXT_CODIGO    BIGINT NOT NULL,
	ANA_EST_EXT_ESTIMULO  BIGINT NOT NULL
)

ALTER TABLE ANAGRAMAS ADD  FOREIGN KEY(ANA_REFORCO_ACERTO)       REFERENCES REFORCOS (REF_CODIGO)       ON UPDATE NO ACTION ON DELETE NO ACTION ;

ALTER TABLE ANAGRAMA_ESTIMULOS ADD  FOREIGN KEY(ANA_EST_CODIGO)      REFERENCES ANAGRAMAS (ANA_CODIGO) ON UPDATE NO ACTION ON DELETE NO ACTION ;
ALTER TABLE ANAGRAMA_ESTIMULOS ADD  FOREIGN KEY(ANA_EST_ESTIMULO)    REFERENCES ESTIMULOS (EST_CODIGO) ON UPDATE NO ACTION ON DELETE NO ACTION ;

ALTER TABLE ANAGRAMA_ESTI_EXTRA ADD  FOREIGN KEY(ANA_EST_EXT_CODIGO) REFERENCES ESTIMULOS (EST_CODIGO) ON UPDATE NO ACTION ON DELETE NO ACTION ;
ALTER TABLE ANAGRAMA_ESTI_EXTRA ADD  FOREIGN KEY(ANA_EST_EXT_CODIGO) REFERENCES ESTIMULOS (EST_CODIGO) ON UPDATE NO ACTION ON DELETE NO ACTION ;